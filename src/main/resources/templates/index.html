<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Quasiris Quick Start Spring</title>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <!-- Meine CSS -->
    <link th:href="@{/styles/main.css}" rel="stylesheet"/>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
            integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
            crossorigin="anonymous"></script>
    <link rel="shortcut icon" type="image/png" th:href="@{/img/favicon.png}"/>

</head>
<body>

<!-- <div id="facets" th:if="${not #lists.isEmpty(searchResults)}">
        <div th:unless="${#lists.isEmpty(searchResults.result.products.documents)}">
         <div class="row mt-3"> -->
<div class="filters-container" style="margin-top:200px; margin-left: 100px;">
    <form method="GET">
        <ul>
            <li class="available"><b> - Verfügbarkeit - </b></li>
            <ul>
                <li>
                    <label for="available">
                        <input type="checkbox" name="verfuegbar" id="available-filter" value="available"
                               onclick="addOrUpdateURLParams()"/>
                        <span>verfügbar</span>
                    </label>
                </li>
                <li>
                    <label for="notavailable">
                        <input type="checkbox" name="nverfuegbar" id="navailable-filter" value="navailable"/>
                        <span>nicht verfügbar</span>
                    </label>
                </li>
            </ul>
            <li class="hersteller"><b> - Hersteller - </b></li>
            <ul>
                <li>
                    <label>
                        <input type="checkbox" name="wagoallg" id="wago-filter" value="wago"/>
                        <span>WAGO</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="wagokontakt" id="wagokontakt-filter" value="wagokontakt"/>
                        <span>WAGO Kontakttechnik</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="berkerhager" id="berkerhager-filter" value="berkerhager"/>
                        <span>Berker by Hager</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="wermersignal"/>
                        <span>WERMA Signaltechnik</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="hagerteha"/>
                        <span>Hager Tehalit</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="hagervertrieb"/>
                        <span>Hager Vertriebsgesellschaft</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="eaton"/>
                        <span>Eaton</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="spels"/>
                        <span>Spelsberg</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="cell"/>
                        <span>Cellpack</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="bach"/>
                        <span>Bachmann</span>
                    </label>
                </li>
            </ul>
            <li class="bonus"><b> - Bonusprogramme - </b></li>
            <ul>
                <li>
                    <label>
                        <input type="checkbox" name="bonusProgram1"/>
                        <!-- th:value="bonus1" th:checked="${selectedBonusPrograms.contains('bonus1')} -->
                        <span>Bonus 1</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="bonusProgram2"/>
                        <!-- th:value="bonus2" th:checked="${selectedBonusPrograms.contains('bonus2')} -->
                        <span>Bonus 2</span>
                    </label>
                </li>
            </ul>
            <li class="mgekauft"><b> - meist gekauft - </b></li>
            <ul>
                <li>
                    <label>
                        <input type="checkbox" name="bestSeller"/>
                        <!--th:value="bestSeller1" th:checked="${selectedBestSellers.contains('bestSeller1')} -->
                        <span>Bestseller 1</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="bestSeller"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Bestseller 2</span>
                    </label>
                </li>
            </ul>
            <li class="kateg"> <!--th:classappend="${#strings.join(categories,',')} ? 'active' : ''" --><b>
                - Kategorie - </b>
            </li>
            <ul>
                <li>
                    <label for="category1">
                        <input type="checkbox" name="reihenklemmen" id="category1"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Reihenklemmen</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="doseninstallation"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Dosen- &amp; Installationsklemmen</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="kennmaterial"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Kennzeichnungsmaterial</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="indusnetztech"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Industrielle Netzwerktechnik</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="relais"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Relais Industrie</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="netztrafostrom"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Netzgeräte, Trafos &amp; Stromversorgungen</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="trennmessregler"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Trennschaltgeräte, Mess-, &amp; Regler-Relais</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="sensorkabel"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Sensor-Aktor Kabel</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="stromwandler"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Stromwandler</span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="checkbox" name="signalgeräte"/>
                        <!-- th:value="bestSeller2" th:checked="${selectedBestSellers.contains('bestSeller2')} -->
                        <span>Signalgeräte optisch / akustisch</span>
                    </label>
                </li>
            </ul>
        </ul>
    </form>
</div>

<div id="sortmenu" th:if="${not #lists.isEmpty(searchResults)}">
    <div class="col-md-16">
        <div class="row mt-4">
            <div class="dropdown"><!-- DROPDOWN START -->
                <button class="btn btn-dark dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" disabled>
                    Sort by:
                </button>
                <div class="dropdown" aria-labelledby="dropdownMenuButton">
                    <button class="dropdown-item" id="score" name="score" href="#">Relevance</button>
                    <button class="dropdown-item" id="priceasc" name="Preis aufsteigend" href="#">Price
                        ascending
                    </button>
                    <button class="dropdown-item" id="pricedesc" name="Preis absteigend" href="#">
                        Price descending
                    </button>
                    <button class="dropdown-item" id="titleaz" name="Titel A-Z" href="#">Title A-Z</button>
                    <button class="dropdown-item" id="titleza" name="Titel Z-A" href="#">Title Z-A</button>
                    <button class="dropdown-item" id="lastPurchased" name="zuletzt gekauft" href="#">last purchased
                    </button>
                </div>

            </div> <!-- DROPDOWN END -->
        </div>
    </div>
</div>


<div id="searchbar" class="container mt-5">
    <div class="row">
        <div class="col-md-4">
            <img src="https://quasiris-search-cloud.com/img/quasiris-logo.png" alt="logo" class="logo">
        </div>
        <div class="col-md-8">
            <form th:action="@{/search}" method="get" accept-charset="utf-8">
                <div class="form-group row">
                    <div class="col-md-8">
                        <input type="text" class="form-control" id="query" name="q" placeholder="Enter search term"
                               autofocus required oninvalid="this.setCustomValidity('Please fill in this field')">
                        <span class="required-text" style="color: red; font-size:13px;">* Mandatory field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <span style="font-size:12px;">Currently there are 7069 products in the search.</span>
                        <span class="time" th:text="${#temporals.format(currentTime, 'dd.MM.yyyy HH:mm:ss')}"
                              style="font-size:12px"></span>
                    </div>
                    <div class="col-md-2">
                        <button type="submit" class="btn btn-dark"
                                style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                            Search
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<!--

<div id="noResults" th:if="${#lists.isEmpty(searchResults)}">
    <b>Keine Ergebnisse</b> &#x1F641 <br>
    <br>
    Es wurden keine mit deiner Suchanfrage übereinstimmenden Dokumente gefunden. <br>
    <br>
    <b>Vorschläge:</b> <br>
    <li><i>Achte darauf, dass alle Wörter richtig geschrieben sind.</i></li>
    <li><i>Probiere es mit anderen Suchbegriffen.</i></li>
    <li><i>Probiere es mit allgemeineren Suchbegriffen.</i></li>
    <li><i>Probiere es mit weniger Suchbegriffen.</i></li>
    <br>
</div>
-->

<div class="results-container" th:if="${not #lists.isEmpty(searchResults)}">
    <h4 class="text-center">Search results for "<span th:text="${param.q}"></span>"</h4>
    <ul>
        <!-- STATUS OUTPUT -->
        <!--
            <div th:utext="${searchResults.statusCode}"></div>
            <div th:utext="${searchResults.result.products.statusCode}"></div>
            <div th:utext="${searchResults.result.products.statusMessage}"></div>
        -->

        <!-- PRODUCTS NAME OUTPUT -->
        <!--<div th:utext="${searchResults.result.products.name}"></div> -->

        <!-- DOCUMENTS OUTPUT -->
        <div th:each="document : ${searchResults.result.products.documents}">
            <div class="alert alert-dark"
                 data-bs-toggle="modal" data-bs-target="#resultModal"
                 th:data-document="${document}">
                <span th:utext="${document}"></span>
            </div>

            <div id="resultModal" class="modal fade" tabindex="-1"
                 aria-labelledby="resultModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content text-center flex-column">
                        <div class="modal-header">
                            <h5 class="modal-title" id="resultModalLabel"
                                th:utext="${document.document.name}" style="font-weight:bold;"></h5>
                        </div>
                        <div class="modal-body">
                            <br>
                            <span style="font-weight:bold;">Document ID</span>
                            <span style="display: block;">[[${document.id}]]</span><br>
                            <!--
                            <span style="font-weight: bold;">Name:</span>
                            <span style="display: block;">[[${document.document.name}]]</span><br>
                            -->
                            <hr>
                            <img src="/img/9CB5F7693ED76D48E05332C8A8C071C2.jpg">
                            <br>
                            <br>
                            <span style="font-weight: bold;">Quantity Unit:</span>
                            <span style="display: block;">[[${document.document.quantityUnit}]]</span><br>
                            <span style="font-weight: bold;">SKU:</span>
                            <span style="display: block;">[[${document.document.sku}]]</span>
                            <hr>
                            <br>
                            <span style="font-weight: bold;">Sales Unit:</span>
                            <span style="display: block;">[[${document.document.salesUnit}]]</span>
                            <span style="font-weight: bold;">Accessories:</span>
                            <span style="display: block;">[[${document.document.accessories}]]</span>
                            <span style="font-weight: bold;">Procured Product:</span>
                            <span style="display: block;">[[${document.document.procuredProduct}]]</span>
                            <span style="font-weight: bold;">Alternatives:</span>
                            <span style="display: block;">[[${document.document.alternatives}]]</span>
                            <span style="font-weight: bold;">Product Co-contractor:</span>
                            <span style="display: block;">[[${document.document.productCocontractor}]]</span>
                            <span style="font-weight: bold;">Product Co-contractor Value:</span>
                            <span style="display: block;">[[${document.document.productCocontractorValue}]]</span>
                        </div>
                        <div class="modal-footer d-flex justify-content-center">
                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ul>
</div>

<div class="pagination text-center">
    <nav aria-label="pagination">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" id="first" name="first"
                                     style="color: black;">First</a></li>
            <li class="page-item"><a class="page-link" id="previous" name="previous"
                                     style="color: black;">Previous</a></li>
            <li class="page-item"><a class="page-link" id="1" name="1"
                                     style="color: black;">1</a></li>
            <li class="page-item"><a class="page-link" id="2" name="2"
                                     style="color: black;">2</a></li>
            <li class="page-item"><a class="page-link" id="3" name="3"
                                     style="color: black;">3</a></li>
            <li class="page-item"><a class="page-link" id="next" name="next"
                                     style="color: black;">Next</a></li>
            <li class="page-item"><a class="page-link" id="last" name="last"
                                     style="color: black;">Last</a></li>
        </ul>
    </nav>
</div>

<div id="copyright" class="col-md-12 text-center">
    <br>
    <p class="copyright">© 2023 Quasiris GmbH - Daten zu Diamanten</p>
</div>


<a href="https://github.com/quasiris/qsc-quickstart-spring" target="_blank" class="fork-me">
    <img src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149"
         alt="Fork me on GitHub">
</a>

<script>

    function addOrUpdateUrlParams() {
          const checkbox = document.getElementById("available-filter");
          let url = new URL("http://localhost:8080/search?q=ejot&f.available=true");
            checkbox.addEventListener("change", function() {
              if (checkbox.checked) {
                url.searchParams.append("f.available=true", "available");
              }
              else {
                url.searchParams.delete("f.available=true");
              }
              window.location.href = url.toString();
                }
               });



    function uncheckAll() {
           select(false);
           this.onclick = checkAll;
        }



</script>

</body>
</html>

